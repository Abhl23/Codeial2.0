{let e=function(e,t){new Noty({type:e,text:t,theme:"relax",layout:"topRight",timeout:1500}).show()},t=function(t){t.submit((function(s){s.preventDefault(),$.ajax({method:"post",url:"/comments/create",data:t.serialize(),success:function(s){let l=n(s.data.comment);$(`#post-comments-${s.data.comment.post}`).append(l),o($(" .delete-comment-button",l)),homeLikes.toggleLikeFunctionality($(" .like-button",l)),e("success",s.message),$(' input[type="text"]',t).val("")},error:function(t){e("error",t.responseJSON.message),console.log(t.responseText)}})}))},n=function(e){return $(`<li id="comment-${e._id}">\n                    <p>\n                        <small>\n                            <a class="delete-comment-button" href="/comments/destroy/${e._id}">X</a>\n                        </small>\n                        \n                        ${e.content}\n                        <br />\n                        <small>${e.user.name}</small>\n                        &ensp;\n                        <a class="like-button" href="/likes/toggle/?id=${e._id}&type=Comment">\n                          <span class="likes-count">${e.likes.length}</span> likes\n                        </a>\n                    </p>\n                </li>`)},o=function(t){t.click((function(n){n.preventDefault(),$.ajax({method:"get",url:t.attr("href"),success:function(t){$(`#comment-${t.data.comment_id}`).remove(),e("success",t.message)},error:function(t){e("error",t.responseJSON.message),console.log(t.responseText)}})}))},s=$(".delete-comment-button");for(let e=0;e<s.length;e++)o(s.eq(e));let l=$(".new-comment-form");for(let e=0;e<l.length;e++)t(l.eq(e))}