{let e=function(e,t){new Noty({type:e,text:t,theme:"relax",layout:"topRight",timeout:1500}).show()},t=function(){let t=$("#new-post-form");t.submit((function(o){o.preventDefault(),$.ajax({method:"post",url:"/posts/create",data:t.serialize(),success:function(t){let o=n(t.data.post);$("#posts-list-container > ul").prepend(o),s($(" .delete-post-button",o)),homeLikes.toggleLikeFunctionality($(" .like-button",o)),e("success",t.message),$("#new-post-form textarea").val("")},error:function(t){e("error",t.responseJSON.message),console.log(t.responseText)}})}))},n=function(e){return $(`<li id="post-${e._id}">\n                <p>\n                    <small>\n                        <a class="delete-post-button" href="/posts/destroy/${e._id}">X</a>\n                    </small>\n                    ${e.content}\n                    <br />\n                    <strong>${e.user.name}</strong>\n                    &ensp;\n                    <a class="like-button" href="/likes/toggle/?id=${e._id}&type=Post">\n                      <span class="likes-count">${e.likes.length}</span> likes\n                    </a>  \n                </p>\n            \n                <div class="post-comments-container">\n                    <form action="/comments/create" method="post">\n                        <input type="text" name="content" placeholder="Add a comment..." required />\n                        <input type="hidden" name="post" value="${e._id}" />\n                        <button type="submit">Add Comment</button>\n                    </form>\n                \n                    <div class="post-comments-list">\n                        <ul id="post-comments-${e._id}">\n                        \n                        </ul>\n                    </div>\n                </div>\n            </li>`)},s=function(t){t.click((function(n){n.preventDefault(),$.ajax({method:"get",url:t.attr("href"),success:function(t){$(`#post-${t.data.post_id}`).remove(),e("success",t.message)},error:function(t){e("error",t.responseJSON.message),console.log(t.responseText)}})}))},o=$(".delete-post-button");for(let e=0;e<o.length;e++)s(o.eq(e));t()}