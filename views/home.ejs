<link rel="stylesheet" type="text/css" href="/css/home.css">

<div id="home-container">
  <section id="feed-posts">
    <h2>Posts</h2>
  
    <% if(locals.user) { %>
    <form action="/posts/create" method="post" id="new-post-form">
      <textarea
        name="content"
        cols="30"
        rows="3"
        placeholder="Type Here..."
        required
      ></textarea>
      <button type="submit">Post</button>
    </form>
    <% } %>
  
    <div id="posts-list-container">
      <ul>
        <% for(let post of posts) { %>

           <%- include('_post', { post }); -%> 
           
        <%} %>
      </ul>
    </div>
  </section>
  
  <!-- Cannot use 'user' as a variable name because locals.user already exists -->
  <section id="user-friends">
    <h2>Friends</h2>
    <% for(let one_user of all_users) { %>
    <p>
      <a href="/users/profile/<%= one_user.id %>"><%= one_user.name %></a>
    </p>
    <% } %>
  </section>
</div>

<script type="text/javascript" src="/js/home_posts.js"></script>
